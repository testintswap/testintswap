"use strict";(self.webpackChunkintswap_frontend=self.webpackChunkintswap_frontend||[]).push([[2544,9369],{41621:(B,k,o)=>{o.d(k,{D:()=>h});var f=o(32085),r=o(408),C=o(28499),u=o(75955);function h(M){return(0,f.e)((x,_)=>{let T=!1,b=null,g=null;const v=()=>{if(g?.unsubscribe(),g=null,T){T=!1;const t=b;b=null,_.next(t)}};x.subscribe((0,C.x)(_,t=>{g?.unsubscribe(),T=!0,b=t,g=(0,C.x)(_,v,r.Z),(0,u.Xf)(M(t)).subscribe(g)},()=>{v(),_.complete()},void 0,()=>{b=g=null}))})}},52544:(B,k,o)=>{o.r(k),o.d(k,{AddModule:()=>et});var f=o(88692),r=o(7976),C=o(8239),u=o(2024),h=o(92673),M=o(54121),x=o(61528),_=o(42147),T=o(83151),b=o(27969),g=o(84945),v=o(62686),t=o(64537),w=o(88696),y=o(19376),U=o(3755),D=o(39869),L=o(94602),E=o(96195),S=o(83331),z=o(9638),Z=o(93706),O=o(20092),I=o(15372),N=o(99369),a=o(53863);function m(i,c){1&i&&t.GkF(0)}function d(i,c){1&i&&t.GkF(0)}function p(i,c){1&i&&(t.TgZ(0,"div",26)(1,"mat-icon",27),t._uU(2,"autorenew"),t.qZA()())}function A(i,c){1&i&&(t.TgZ(0,"mat-icon",30),t._uU(1," autorenew "),t.qZA())}function F(i,c){1&i&&(t.TgZ(0,"mat-icon",30),t._uU(1," autorenew "),t.qZA())}function V(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.approveToken())}),t.YNc(1,F,2,0,"mat-icon",29),t._uU(2),t.qZA()}if(2&i){const n=t.oxw(2);t.Q6J("disabled",n.isTokenApproved),t.xp6(1),t.Q6J("ngIf",n.isApprovingToken),t.xp6(1),t.hij("Approve ",n.tokenSymbol," ")}}function q(i,c){if(1&i){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",28),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.approveNft())}),t.YNc(2,A,2,0,"mat-icon",29),t._uU(3),t.qZA(),t.YNc(4,V,3,3,"button",22),t.BQk()}if(2&i){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.isNFTApproved),t.xp6(1),t.Q6J("ngIf",n.isApprovingNFT),t.xp6(1),t.hij("Approve ",n.collectionSymbol," "),t.xp6(1),t.Q6J("ngIf",!n.isTokenApproved)}}function j(i,c){1&i&&(t.TgZ(0,"mat-icon",30),t._uU(1,"autorenew "),t.qZA())}function J(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(),l=t.MAs(63);return t.KtG(s.openConfirmDialog(l))}),t.YNc(1,j,2,0,"mat-icon",29),t._uU(2),t.qZA()}if(2&i){const n=t.oxw();t.Q6J("disabled",n.isQuerying||n.isAdding||n.parseFloat(n.tokenValue)>n.parseFloat(n.userTokenBalance)||0==n.selectedTokenIds.length),t.xp6(1),t.Q6J("ngIf",n.isAdding||n.isQuerying),t.xp6(1),t.hij(" ",n.isQuerying?"Querying...":n.parseFloat(n.tokenValue)>n.parseFloat(n.userTokenBalance)?"Insufficient Balance":n.pair?"Add Liquidity":"Create and Add Liquidity"," ")}}function $(i,c){1&i&&(t.ynx(0),t._UZ(1,"div",44),t.TgZ(2,"mat-icon",45),t._uU(3,"check_circle "),t.qZA(),t.BQk())}const Q=function(i){return{"selected-tokenId":i}};function R(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",42),t.NdJ("click",function(){const l=t.CHM(n).$implicit,P=t.oxw(3);return t.KtG(P.addOrRemoveTokenId(l.tokenId))}),t.YNc(1,$,4,0,"ng-container",21),t._UZ(2,"img",43),t.ALo(3,"async"),t.TgZ(4,"div"),t._uU(5),t.qZA()()}if(2&i){const n=c.$implicit,e=t.oxw(3);t.Q6J("ngClass",t.VKq(8,Q,e.isSelectedTokenId(n.tokenId))),t.xp6(1),t.Q6J("ngIf",e.isSelectedTokenId(n.tokenId)),t.xp6(1),t.Q6J("lazyLoad","https://ik.imagekit.io/usamieru/tr:w-300,q-20/"+t.lcZ(3,6,null==n?null:n.url$)||0)("defaultImage","/assets/imgs/mockNft.png")("alt",n.title),t.xp6(3),t.Oqu("#"+e.hexToString(n.tokenId))}}function K(i,c){if(1&i&&(t.TgZ(0,"div",39)(1,"div",40),t.YNc(2,R,6,10,"div",41),t.qZA()()),2&i){const n=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",n.userNftList)("ngForTrackBy",n.trackByNftItems)}}function Y(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",31)(1,"span",13),t._uU(2,"Amount"),t.qZA(),t.TgZ(3,"nz-input-number",32),t.NdJ("ngModelChange",function(s){t.CHM(n);const l=t.oxw();return t.KtG(l.nftValue=s)})("ngModelChange",function(s){t.CHM(n);const l=t.oxw();return t.KtG(l.updateTokenValue(s))}),t.qZA(),t.TgZ(4,"div",33),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openSearchTokenOrCollectionDialog(1))}),t._UZ(5,"img",34)(6,"div",4),t.TgZ(7,"span"),t._uU(8),t.qZA(),t._UZ(9,"div",4),t.qZA(),t.TgZ(10,"nz-slider",35),t.NdJ("ngModelChange",function(s){t.CHM(n);const l=t.oxw();return t.KtG(l.nftValue=s)})("ngModelChange",function(s){t.CHM(n);const l=t.oxw();return t.KtG(l.updateTokenValue(s))}),t.qZA(),t.TgZ(11,"div",36),t._uU(12,"Balance: "),t.TgZ(13,"a",37),t.NdJ("click",function(){t.CHM(n);const s=t.MAs(16),l=t.oxw();return t.KtG(l.openNftList(s))}),t._uU(14),t.qZA()()(),t.YNc(15,K,3,2,"ng-template",null,38,t.W1O)}if(2&i){const n=t.oxw();t.xp6(3),t.Q6J("nzSize","large")("nzMin",0)("ngModel",n.nftValue)("nzPrecision",0),t.xp6(2),t.Q6J("src",n.getTokenIcon((null==n.pair||null==n.pair.collection?null:n.pair.collection.address)||""),t.LSH),t.xp6(3),t.Oqu(n.collectionSymbol||"Select"),t.xp6(2),t.Q6J("ngModel",n.nftValue)("nzMax",n.userNftBalance),t.xp6(4),t.Oqu(n.userNftBalance)}}function W(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",46)(1,"span",13),t._uU(2,"Price"),t.qZA(),t.TgZ(3,"nz-input-number",47),t.NdJ("ngModelChange",function(s){t.CHM(n);const l=t.oxw();return t.KtG(l.price=s)})("ngModelChange",function(s){t.CHM(n);const l=t.oxw();return t.KtG(l.onPriceChange(s))}),t.qZA(),t.TgZ(4,"div",33),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.openSearchTokenOrCollectionDialog(0))}),t._UZ(5,"img",34)(6,"div",4),t.TgZ(7,"span"),t._uU(8),t.qZA(),t._UZ(9,"div",4),t.qZA(),t.TgZ(10,"div",48),t._uU(11," x "),t.TgZ(12,"span"),t._uU(13),t.qZA(),t._uU(14),t.qZA(),t.TgZ(15,"div",49),t._uU(16),t.ALo(17,"number"),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(3),t.Q6J("nzSize","large")("nzMin",1e-15)("ngModel",n.price)("nzDisabled",null!=n.pair),t.xp6(2),t.Q6J("src",n.getTokenIcon((null==n.pair||null==n.pair.token?null:n.pair.token.address)||""),t.LSH),t.xp6(3),t.Oqu(n.tokenSymbol||"Select"),t.xp6(5),t.Oqu(n.nftValue),t.xp6(1),t.hij(" ",n.collectionSymbol,""),t.xp6(2),t.hij("Balance: ",t.xi3(17,9,n.userTokenBalance,"1.2-4")," ")}}function G(i,c){1&i&&(t.TgZ(0,"mat-icon",57),t._uU(1,"autorenew "),t.qZA())}function H(i,c){if(1&i){const n=t.EpF();t.TgZ(0,"div",50)(1,"span",51),t._uU(2,"Add Liquidity"),t.qZA(),t._UZ(3,"div",52),t.TgZ(4,"span",53),t._uU(5),t.qZA(),t.TgZ(6,"span",54),t._uU(7),t.qZA(),t.TgZ(8,"span",53),t._uU(9),t.qZA(),t.TgZ(10,"span",54),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"span",53),t._uU(14,"Get Lp Token :"),t.qZA(),t.TgZ(15,"span",54),t._uU(16),t.ALo(17,"number"),t.qZA(),t.TgZ(18,"span",53),t._uU(19,"Share of Pool :"),t.qZA(),t.TgZ(20,"span",54),t._uU(21),t.ALo(22,"number"),t.qZA(),t.TgZ(23,"button",55),t.NdJ("click",function(){t.CHM(n);const s=t.oxw();return t.KtG(s.confirmAdd())}),t.YNc(24,G,2,0,"mat-icon",56),t._uU(25),t.qZA()()}if(2&i){const n=t.oxw();t.xp6(5),t.hij("Add ",n.collectionSymbol," :"),t.xp6(2),t.Oqu(n.nftValue),t.xp6(2),t.hij("Add ",n.tokenSymbol," :"),t.xp6(2),t.Oqu(t.xi3(12,9,n.tokenValue,"1.2-8")),t.xp6(5),t.Oqu(t.xi3(17,12,n.lpTokenOutput,"1.2-4")),t.xp6(5),t.hij("",t.xi3(22,15,n.shareOutput,"1.2-4"),"%"),t.xp6(2),t.Q6J("disabled",n.parseInt(n.nftValue)<=0||n.isAdding||0==n.selectedTokenIds.length),t.xp6(1),t.Q6J("ngIf",n.isAdding),t.xp6(1),t.hij("",n.pair?"Add Liquidity":"Create and Add Liquidity"," ")}}const X=[{path:"",component:(()=>{class i{constructor(n,e,s,l,P,it,ot,st,rt){this.location=n,this.route=e,this.router=s,this.matDialog=l,this.cacheService=P,this.httpService=it,this.graphqlService=ot,this.accountService=st,this.web3Service=rt,this.nftValue="0",this.tokenValue="0",this.price="0.1",this.userNftBalance=0,this.userTokenBalance="0",this.userNftList=[],this.lpTokenOutput="0",this.isLoadingAddLiquidityInfo=!0,this.isNFTApproved=!1,this.isTokenApproved=!1,this.isQuerying=!1,this.isApprovingToken=!1,this.isApprovingNFT=!1,this.isAdding=!1,this.selectedTokenIds=[],this.userLiquidity="0",this.shareOutput=0,this.showPopover=!0,this.queryNftValue$=new M.X("0")}get isNativeBaseToken(){return!0}ngOnInit(){var n=this;this.pair$=this.route.paramMap.pipe((0,x.w)(e=>(this.nftAddress=e.get("nftAddress")||void 0,this.baseTokenAddress=e.get("baseTokenAddress")||void 0,this.cacheService.getPairAddress(this.nftAddress,this.baseTokenAddress))),(0,_.x)((e,s)=>e?.address==s?.address&&e?.price==s?.price&&e?.nftAmount==s?.nftAmount)),this.subPair=this.pair$.subscribe(function(){var e=(0,C.Z)(function*(s){n.pair=s,s?(n.price=n.formatTokenValue(s.price,s.token.decimals),n.tokenSymbol=s.token.symbol,n.collectionSymbol=s.collection.symbol,n.baseTokenDecimals=s.token.decimals,n.fetchUserLiquidity()):(n.tokenSymbol=n.baseTokenAddress&&(yield n.web3Service.getTokenSymbol(n.baseTokenAddress))[0],n.collectionSymbol=n.nftAddress&&(yield n.web3Service.getTokenSymbol(n.nftAddress))[0],n.baseTokenDecimals=n.baseTokenAddress&&(yield n.web3Service.getTokenDecimals(n.baseTokenAddress))[0]),n.fetchUserNFTs(),n.fetchUserTokenBalance()});return function(s){return e.apply(this,arguments)}}()),this.queryNftValueSub=this.queryNftValue$.pipe((0,T.b)(500),(0,x.w)(e=>this.pair&&parseInt(this.nftValue)>0?(this.isLoadingAddLiquidityInfo=!0,this.web3Service.invokeContract("IntswapV1Pair","getAddLiquidityInfo",[e],this.pair.address).then(s=>({deltaLPTokenAmount:s[0],deltaBaseToken:s[1]}),()=>({deltaLPTokenAmount:"0",deltaBaseToken:"0"}))):!this.pair&&parseInt(this.nftValue)>0&&this.price?(this.isLoadingAddLiquidityInfo=!0,this.web3Service.invokeContract("IntswapV1Factory","getDefaultInitLiquidityInfo",[e,(0,h.parseUnits)(Math.sqrt(parseFloat(this.price))+"","18").toString()]).then(s=>({deltaLPTokenAmount:s[1],deltaBaseToken:s[2]}),()=>({deltaLPTokenAmount:"0",deltaBaseToken:"0"}))):Promise.resolve({deltaLPTokenAmount:"0",deltaBaseToken:"0"}))).subscribe(e=>{this.pair&&parseInt(this.nftValue)>0?(this.tokenValue=this.formatTokenValue(e.deltaBaseToken,this.pair.token.decimals),this.lpTokenOutput=this.formatTokenValue(e.deltaLPTokenAmount,"18"),this.shareOutput=u.O$.from(this.userLiquidity).add(u.O$.from(e.deltaLPTokenAmount)).mul(u.O$.from("10000")).div(u.O$.from(this.pair.liquidity).add(u.O$.from(e.deltaLPTokenAmount))).toNumber()/100):this.baseTokenDecimals&&parseInt(this.nftValue)>0&&(this.tokenValue=this.formatTokenValue(e.deltaBaseToken,this.baseTokenDecimals),this.lpTokenOutput=this.formatTokenValue(e.deltaLPTokenAmount,"18"),this.shareOutput=100),this.isLoadingAddLiquidityInfo=!1})}fetchUserTokenBalance(){this.accountBalanceSub?.unsubscribe(),this.accountBalanceSub=this.accountService.account$.subscribe(n=>{n&&this.baseTokenAddress&&(this.isNativeBaseToken?this.web3Service.getBaseTokenBalanceOf(n).then(e=>{this.baseTokenDecimals&&(this.userTokenBalance=this.formatTokenValue(e,this.baseTokenDecimals),this.fetchAllowance())}):this.web3Service.invokeContract("ERC20","balanceOf",[n],this.baseTokenAddress).then(e=>{this.baseTokenDecimals&&(this.userTokenBalance=this.formatTokenValue(e[0],this.baseTokenDecimals),this.fetchAllowance())}))})}onPriceChange(n){n>0&&this.queryNftValue$.next(this.nftValue)}updateTokenValue(n){n>=0&&(this.queryNftValue$.next(n),this.updateSelectedTokenIds(n)),0==n&&(this.nftValue="0",this.tokenValue="0",this.lpTokenOutput="0")}updateSelectedTokenIds(n){this.selectedTokenIds=this.userNftList.slice(0,n).map(e=>e.tokenId)}isSelectedTokenId(n){return this.selectedTokenIds.includes(n)}addOrRemoveTokenId(n){this.isSelectedTokenId(n)?this.selectedTokenIds.splice(this.selectedTokenIds.indexOf(n),1):this.selectedTokenIds.push(n),this.nftValue=this.selectedTokenIds.length+"",this.queryNftValue$.next(this.nftValue)}formatTokenValue(n,e){return(0,h.formatUnits)(n,e)}fetchUserLiquidity(){this.suerLiquiditySub?.unsubscribe(),this.suerLiquiditySub=this.accountService.account$.subscribe(n=>{n&&this.graphqlService.fetchUserLiquidity(n,this.pair.address).then(({data:e})=>{e.liquidityInPair&&(this.userLiquidity=e.liquidityInPair.liquidity,this.shareOutput=u.O$.from(this.userLiquidity).add(u.O$.from((0,h.parseUnits)(this.lpTokenOutput,"18"))).mul(u.O$.from("10000")).div(u.O$.from(this.pair.liquidity)).toNumber()/100)})})}fetchUserNFTs(){this.accountNFTsSub?.unsubscribe(),this.accountNFTsSub=this.accountService.account$.pipe((0,x.w)(n=>n&&this.nftAddress?this.httpService.fetchNFTsOfCollectionByOwnerAddress(n,this.nftAddress).pipe((0,b.U)(e=>{this.userNftList=e.ownedNfts,this.userNftBalance=e.totalCount})):(0,g.of)(void 0))).subscribe()}trackByNftItems(n,e){return this.pair?.collection.address+""+e.tokenId}parseInt(n){return parseInt(n)}parseFloat(n){return parseFloat(n)}goBack(){this.location.back()}fetchAllowance(){this.isQuerying=!0,this.isTokenApproved=!1,this.isNFTApproved=!1,this.accountAllowanceSub?.unsubscribe(),this.accountAllowanceSub=this.accountService.account$.subscribe(n=>{n&&this.pair?(this.isNativeBaseToken?this.isTokenApproved=!0:this.web3Service.invokeContract("ERC20","allowance",[n,this.pair.address],this.pair.token.address).then(e=>this.isTokenApproved=u.O$.from(e[0]).gte(u.O$.from((0,h.parseUnits)(this.userTokenBalance,this.pair?.token.decimals)))).finally(()=>this.isQuerying=!1),this.web3Service.invokeContract("ERC721","isApprovedForAll",[n,this.pair.address],this.pair.collection.address).then(e=>this.isNFTApproved=e[0]).finally(()=>this.isQuerying=!1)):n&&!this.pair&&(this.isNativeBaseToken?this.isTokenApproved=!0:this.web3Service.invokeContract("ERC20","allowance",[n,this.web3Service.ContractAddressMap.IntswapV1Factory],this.baseTokenAddress).then(e=>this.isTokenApproved=u.O$.from(e[0]).gte(u.O$.from((0,h.parseUnits)(this.userTokenBalance,this.baseTokenDecimals)))).finally(()=>this.isQuerying=!1),this.web3Service.invokeContract("ERC721","isApprovedForAll",[n,this.web3Service.ContractAddressMap.IntswapV1Factory],this.nftAddress).then(e=>this.isNFTApproved=e[0]).finally(()=>this.isQuerying=!1))})}hexToString(n){return u.O$.from(n).toString()}openConfirmDialog(n){this.confirmDialog=this.matDialog.open(n,{autoFocus:!1})}confirmAdd(){this.confirmDialog&&(this.confirmDialog.disableClose=!0),0!=this.selectedTokenIds.length&&(this.isAdding=!0,(this.pair?this.web3Service.invokeContract("IntswapV1Pair","addLiquidityWithSpecificNFT",[this.selectedTokenIds,(0,h.parseUnits)(this.tokenValue,this.pair.token.decimals).toString()],this.pair.address,(0,h.parseUnits)(this.tokenValue,this.pair.token.decimals).toString()):this.web3Service.invokeContract("IntswapV1Factory","createPairAndInitialize",[this.nftAddress,this.selectedTokenIds,(0,h.parseUnits)(Math.sqrt(parseFloat(this.price))+"","18").toString()],void 0,(0,h.parseUnits)(this.tokenValue,this.baseTokenDecimals).toString())).then(n=>{this.confirmDialog?.close(),this.nftValue="0",this.fetchUserNFTs(),this.fetchUserTokenBalance()}).finally(()=>{this.confirmDialog&&(this.confirmDialog.disableClose=!1),this.confirmDialog?.close(),this.isAdding=!1,this.selectedTokenIds=[],this.updateTokenValue(0)}))}approveToken(){this.isApprovingToken=!0,this.web3Service.invokeContract("ERC20","approve",[this.pair?this.pair.address:this.web3Service.ContractAddressMap.IntswapV1Factory,v.fV],this.baseTokenAddress).then(()=>this.isTokenApproved=!0).finally(()=>this.isApprovingToken=!1)}approveNft(){this.isApprovingNFT=!0,this.web3Service.invokeContract("ERC721","setApprovalForAll",[this.pair?this.pair.address:this.web3Service.ContractAddressMap.IntswapV1Factory,"true"],this.nftAddress).then(()=>this.isNFTApproved=!0).finally(()=>this.isApprovingNFT=!1)}openSearchTokenOrCollectionDialog(n){o.e(8592).then(o.bind(o,92928)).then(({SearchTokenDialogComponent:e})=>{this.showPopover=!1;const s=this.matDialog.open(e);s.componentInstance.tokenType=n,s.afterClosed().subscribe(l=>{if(this.showPopover=!0,l)switch(n){case 0:this.switchToken(l.address,l.symbol,l.decimals);break;case 1:this.switchNft(l.address,l.symbol)}})})}switchNft(n,e){n&&(this.router.navigate(this.baseTokenAddress?["app/add/",n,this.baseTokenAddress]:["app/add/",n,this.web3Service.ContractAddressMap.NativeToken],{replaceUrl:!0}),this.collectionSymbol=e)}switchToken(n,e,s){n&&(this.baseTokenAddress=n,this.tokenSymbol=e,this.baseTokenDecimals=s,this.router.navigate(["app/add/",this.nftAddress,this.baseTokenAddress],{replaceUrl:!0}))}openNftList(n){this.matDialog.open(n).afterClosed().subscribe(s=>{})}ngOnDestroy(){this.subPair?.unsubscribe(),this.queryNftValueSub?.unsubscribe(),this.queryNftValueSub?.unsubscribe(),this.accountBalanceSub?.unsubscribe(),this.accountAllowanceSub?.unsubscribe(),this.accountNFTsSub?.unsubscribe(),this.suerLiquiditySub?.unsubscribe()}getTokenIcon(n){return this.cacheService.getTokenIcon(n)}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(f.Ye),t.Y36(r.gz),t.Y36(r.F0),t.Y36(w.uw),t.Y36(y.Q),t.Y36(U.O),t.Y36(D.J),t.Y36(L.B),t.Y36(E.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add"]],decls:64,vars:27,consts:[[1,"card-wrapper"],[1,"card-header"],[1,"back-btn"],["mat-icon-button","",3,"click"],[1,"spacer"],[1,"card-title"],[1,"setting-btn"],[1,"divider"],[4,"ngTemplateOutlet"],[1,"switch-icon"],[3,"nzIndicator","nzDelay","nzSpinning"],["indicatorTemplate",""],[1,"result-wrapper"],[1,"input-label"],[1,"result-amount"],[1,"symbol"],[2,"color","rgb(255, 192, 222)","margin-right","12px"],[1,"result-divider"],[1,"result-info"],[1,"result-info-value"],[1,"result-info-label"],[4,"ngIf"],["mat-button","","class","swap-btn",3,"disabled","click",4,"ngIf"],["nftInputTemplate",""],["tokenInputTemplate",""],["confirm",""],[2,"display","flex","width","100%","height","100%","align-items","center","justify-content","center"],["color","primary",1,"spin-icon"],["mat-button","",1,"swap-btn",3,"disabled","click"],["color","warn","class","spin-icon querying-icon",4,"ngIf"],["color","warn",1,"spin-icon","querying-icon"],[1,"input-wrapper"],["nzBorderless","","nzPrecisionMode","cut",1,"nft-input",3,"nzSize","nzMin","ngModel","nzPrecision","ngModelChange"],[1,"nft-menu-btn",3,"click"],["alt","icon",3,"src"],[1,"nft-slider",3,"ngModel","nzMax","ngModelChange"],[1,"nft-balance"],[2,"text-decoration","underline","font-size","16px","font-weight","bold",3,"click"],["nftList",""],[1,"nft-list-wrapper"],[1,"nft-list"],["class","nft-list-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nft-list-item",3,"ngClass","click"],[3,"lazyLoad","defaultImage","alt"],[1,"selected-tokenId-icon-bg"],["color","warn",1,"selected-tokenId-icon"],[1,"input-wrapper",2,"cursor","no-drop"],["nzBorderless","",1,"nft-input",3,"nzSize","nzMin","ngModel","nzDisabled","ngModelChange"],[1,"price-nft-amount"],[1,"token-balance"],[1,"confirm-info"],[2,"min-height","24px","font-size","24px","font-weight","bolder","color","rgb(228, 228, 228)","grid-column-start","span 2"],[1,"result-divider",2,"grid-column-start","span 2","margin-left","0","margin-right","0"],[1,"confirm-info-label"],[1,"confirm-info-value"],["mat-button","",1,"confirm-btn",2,"grid-column-start","span 2","width","80%","justify-self","center","align-self","center","min-height","36px","font-size","14px","margin-top","12px",3,"disabled","click"],["color","warn","class","spin-icon querying-icon","style","top: 6px; left:12px;",4,"ngIf"],["color","warn",1,"spin-icon","querying-icon",2,"top","6px","left","12px"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return e.goBack()}),t.TgZ(4,"mat-icon"),t._uU(5,"arrow_back"),t.qZA()()(),t._UZ(6,"div",4),t.TgZ(7,"div",5)(8,"span"),t._uU(9,"Add Liquidity"),t.qZA()(),t._UZ(10,"div",4)(11,"div",6),t.qZA(),t._UZ(12,"div",7),t.YNc(13,m,1,0,"ng-container",8),t.TgZ(14,"div",9)(15,"mat-icon"),t._uU(16,"add"),t.qZA()(),t.YNc(17,d,1,0,"ng-container",8),t.TgZ(18,"div",9)(19,"mat-icon"),t._uU(20,"south"),t.qZA()(),t.TgZ(21,"nz-spin",10),t.YNc(22,p,3,0,"ng-template",null,11,t.W1O),t.TgZ(24,"div",12)(25,"span",13),t._uU(26,"Total"),t.qZA(),t.TgZ(27,"div",14),t._uU(28),t.TgZ(29,"span",15),t._uU(30),t.qZA(),t.TgZ(31,"span",16),t._uU(32," + "),t.qZA(),t._uU(33),t.ALo(34,"number"),t.TgZ(35,"span",15),t._uU(36),t.qZA()(),t._UZ(37,"div",17),t.TgZ(38,"div",18)(39,"div",19),t._uU(40),t.ALo(41,"number"),t.qZA(),t.TgZ(42,"div",20),t._uU(43,"Price"),t.qZA()(),t.TgZ(44,"div",18)(45,"div",19),t._uU(46),t.ALo(47,"number"),t.qZA(),t.TgZ(48,"div",20),t._uU(49,"Get LP Token"),t.qZA()(),t.TgZ(50,"div",18)(51,"div",19),t._uU(52),t.ALo(53,"number"),t.qZA(),t.TgZ(54,"div",20),t._uU(55,"Estimated Share"),t.qZA()()()(),t.YNc(56,q,5,4,"ng-container",21),t.YNc(57,J,3,3,"button",22),t.qZA(),t.YNc(58,Y,17,9,"ng-template",null,23,t.W1O),t.YNc(60,W,18,12,"ng-template",null,24,t.W1O),t.YNc(62,H,26,18,"ng-template",null,25,t.W1O)),2&n){const s=t.MAs(23),l=t.MAs(59),P=t.MAs(61);t.xp6(13),t.Q6J("ngTemplateOutlet",l),t.xp6(4),t.Q6J("ngTemplateOutlet",P),t.xp6(4),t.Q6J("nzIndicator",s)("nzDelay",200)("nzSpinning",e.isLoadingAddLiquidityInfo),t.xp6(7),t.hij("",e.nftValue," "),t.xp6(2),t.Oqu(e.collectionSymbol),t.xp6(3),t.hij(" ",t.xi3(34,15,e.tokenValue,"1.2-8")," "),t.xp6(3),t.Oqu(e.tokenSymbol),t.xp6(4),t.AsE("",t.xi3(41,18,e.price,"1.2-8")," ",e.tokenSymbol,""),t.xp6(6),t.hij("",t.xi3(47,21,e.lpTokenOutput,"1.2-2")," INT-V1"),t.xp6(6),t.hij("",t.xi3(53,24,e.shareOutput,"1.2-2"),"%"),t.xp6(4),t.Q6J("ngIf",!(e.isQuerying||e.isNFTApproved&&e.isTokenApproved)),t.xp6(1),t.Q6J("ngIf",e.isQuerying||e.isNFTApproved&&e.isTokenApproved)}},dependencies:[f.mk,f.sg,f.O5,f.tP,S.Hw,z.lW,Z._V,O.JJ,O.On,I.jS,N.W,a.z1,f.Ov,f.JJ],styles:[".card-wrapper[_ngcontent-%COMP%]{position:relative;max-width:420px;width:100%;border-radius:16px;border:3px solid rgba(94,104,135,.4);margin-top:1rem;margin-bottom:1rem;margin-left:auto;margin-right:auto;min-height:60vh;background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);padding:12px}.card-header[_ngcontent-%COMP%]{width:100%;height:48px;display:flex;flex-direction:row;justify-content:center;align-items:center}.card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.setting-btn[_ngcontent-%COMP%]{min-width:40px}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:8px 0 32px;background:linear-gradient(90deg,#ff00d0 0%,#ffa600 100%)}.input-wrapper[_ngcontent-%COMP%]{position:relative;min-height:96px;width:100%;border-radius:16px;background:rgba(255,223,223,.1);border:2px solid rgba(94,104,135,0);transition:all .2s;display:grid;grid-template-columns:2fr 3fr 2fr;column-gap:12px;justify-items:center;align-items:center;box-sizing:border-box;padding:12px 12px 0}.input-wrapper[_ngcontent-%COMP%]:hover{border:2px solid rgba(228,178,201,.24)}.input-wrapper[_ngcontent-%COMP%]:hover   .input-label[_ngcontent-%COMP%]{border:2px solid rgba(228,178,201,.4)}[_nghost-%COMP%]     .ant-input-number-handler{border:none!important}[_nghost-%COMP%]     .ant-input-number-disabled{background:transparent}.nft-list[_ngcontent-%COMP%]{width:25vw;height:40vh}.nft-input[_ngcontent-%COMP%]{width:100%;font-size:28px;color:#7f7f7f;grid-column-start:span 2}.nft-menu-btn[_ngcontent-%COMP%]{width:100%;border-radius:16px;background:linear-gradient(45deg,#ff6eb6 0%,#ffcc6e 100%);display:flex;justify-content:center;align-items:center;flex-direction:row;min-height:36px;padding:12px;cursor:pointer;transition:all .2s;color:#240011}.nft-menu-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%}.nft-menu-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:5rem;margin-left:1rem;overflow:hidden;text-overflow:ellipsis}.nft-menu-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(45deg,#fe54a9 0%,#fabf52 100%)}.nft-slider[_ngcontent-%COMP%]{width:100%;margin:0 24px 0 36px;grid-column-start:span 2}[_nghost-%COMP%]     .ant-slider:hover .ant-slider-handle:not(.ant-tooltip-open){border-color:#ffe6b8}[_nghost-%COMP%]     .ant-slider-track{background:linear-gradient(45deg,#ff6eb6 0%,#ffcc6e 100%)}[_nghost-%COMP%]     .ant-slider-handle{border:2px solid #ffa3da}.nft-balance[_ngcontent-%COMP%]{justify-self:end}.price-nft-amount[_ngcontent-%COMP%]{justify-self:start;padding:0 12px}.price-nft-amount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff5fb7}.token-balance[_ngcontent-%COMP%]{grid-column-start:span 2;justify-self:end}.switch-icon[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;margin:12px 0}.switch-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#e553ff 0%,#ffc252 100%)}.switch-icon[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.swap-info[_ngcontent-%COMP%]{width:100%;padding:12px;box-sizing:border-box;display:grid;row-gap:12px;grid-template-columns:2fr 3fr;font-size:18px}.swap-info-label[_ngcontent-%COMP%]{width:100%;justify-self:start;align-self:center}.swap-info-value[_ngcontent-%COMP%]{justify-self:end;align-self:center}.swap-btn[_ngcontent-%COMP%]{width:100%;min-height:72px;border-radius:16px;background:linear-gradient(45deg,#ff64b2 0%,#ffa852 100%);color:#fff;font-size:36px;font-weight:bolder;margin:12px 0;overflow:hidden;text-overflow:ellipsis}.result-wrapper[_ngcontent-%COMP%]{position:relative;min-height:48px;width:100%;border-radius:16px;background:rgba(255,223,223,.1);border:2px solid rgba(94,104,135,0);transition:all .2s;display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:12px;row-gap:12px;justify-items:center;align-items:center;box-sizing:border-box;padding:12px}.result-wrapper[_ngcontent-%COMP%]:hover{border:2px solid rgba(228,178,201,.24)}.result-wrapper[_ngcontent-%COMP%]:hover   .input-label[_ngcontent-%COMP%]{border:2px solid rgba(228,178,201,.4)}.input-label[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;left:12px;top:-18px;color:#ff5fb7;font-weight:bolder;font-size:18px;background:rgb(251,251,251);border-radius:16px;padding:0 12px;border:2px solid rgba(228,178,201,.24);transition:all .2s}.result-amount[_ngcontent-%COMP%]{grid-column-start:span 3;justify-self:center;align-self:center;min-height:48px;font-size:28px;font-weight:bolder;color:#e4e4e4;display:flex;align-items:center;width:100%;justify-content:center}.result-amount[_ngcontent-%COMP%]   .symbol[_ngcontent-%COMP%]{font-size:18px;color:#dba6bb;max-width:80px;overflow:hidden;text-overflow:ellipsis;display:inline-block;margin:0 12px}.result-info[_ngcontent-%COMP%]{color:#7f7f7f;display:flex;align-items:center;justify-content:center;flex-direction:column}.result-info[_ngcontent-%COMP%]   .result-info-value[_ngcontent-%COMP%]{color:#fff}.result-info[_ngcontent-%COMP%]   .result-info-label[_ngcontent-%COMP%]{color:#dba6bb}.result-divider[_ngcontent-%COMP%]{grid-column-start:span 3;height:1px;width:100%;margin:0 24px;background:linear-gradient(90deg,#ffe9fb 0%,#fff3dc 100%)}.nft-list-wrapper[_ngcontent-%COMP%]{background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);width:75vw;height:75vh;padding:24px 0 24px 24px;border-radius:12px;border:2px solid rgba(228,178,201,.24)}.nft-list[_ngcontent-%COMP%]{width:100%;height:100%;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;row-gap:18px;column-gap:24px;padding:12px 24px 12px 12px;overflow-x:hidden;overflow-y:auto}.nft-list-item[_ngcontent-%COMP%]{width:100%;height:32vh;display:flex;align-items:center;justify-content:center;flex-direction:column;border:2px solid;border-image:linear-gradient(135deg,#fce6be 0%,#f3c4ff 100%) 1;overflow:hidden;box-sizing:border-box;position:relative;cursor:pointer;transition:all .2s}.nft-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:calc(100% - 34px);margin-bottom:12px}.nft-list-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:32px;text-align:center;overflow:hidden;text-overflow:ellipsis}.nft-list-item[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-image:linear-gradient(135deg,#ffcb82 0%,#fd87ff 100%) 1;background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);z-index:5}.selected-tokenId[_ngcontent-%COMP%]{border-image:linear-gradient(135deg,#ff9500 0%,#fa00ff 100%) 1;background:#2e002f}.selected-tokenId-icon-bg[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border-top:2rem solid #000;border-right:2rem solid #000;border-bottom:2rem solid transparent;border-left:2rem solid transparent;width:0!important;height:0!important}.selected-tokenId-icon[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);border-radius:50%}.spin-icon[_ngcontent-%COMP%]{transform:rotate(45deg);animation:rotate 1.2s infinite linear}.confirm-info[_ngcontent-%COMP%]{margin:24px 0;width:100%;padding:12px;box-sizing:border-box;display:grid;grid-template-columns:2fr 3fr;row-gap:1rem;font-size:18px;border-radius:16px;background:rgba(0,0,0,.8);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:2px solid rgba(94,104,135,.5);transition:all .2s}.confirm-info[_ngcontent-%COMP%]:hover{border:2px solid rgba(228,178,201,.24)}.confirm-info-label[_ngcontent-%COMP%]{width:100%;justify-self:start;align-self:center}.confirm-info-value[_ngcontent-%COMP%]{justify-self:end;align-self:center}.confirm-btn[_ngcontent-%COMP%]{position:relative;width:100%;min-height:72px;border-radius:16px;background:linear-gradient(45deg,#ff6eb6 0%,#ffcc6e 100%);color:#fff;font-size:36px;font-weight:bolder;margin-bottom:12px}.querying-icon[_ngcontent-%COMP%]{position:absolute;left:24px;top:24px}@keyframes rotate{to{transform:rotate(405deg)}}"]}),i})()}];let tt=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[r.Bz.forChild(X),r.Bz]}),i})();var nt=o(50132);let et=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f.ez,tt,S.Ps,z.ot,Z.Zf,O.u5,nt.$6,I.N3,N.j,a.mZ]}),i})()},99369:(B,k,o)=>{o.d(k,{W:()=>I,j:()=>N});var f=o(64762),r=o(64537),C=o(9779),u=o(54121),h=o(5557),M=o(91786),x=o(51927),_=o(42147),T=o(61528),b=o(41621),g=o(13528),v=o(80028),t=o(66792),w=o(35076),y=o(88692),U=o(84570);function D(a,m){1&a&&(r.TgZ(0,"span",3),r._UZ(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),r.qZA())}function L(a,m){}function E(a,m){if(1&a&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&a){const d=r.oxw(2);r.xp6(1),r.Oqu(d.nzTip)}}function S(a,m){if(1&a&&(r.TgZ(0,"div")(1,"div",5),r.YNc(2,L,0,0,"ng-template",6),r.YNc(3,E,2,1,"div",7),r.qZA()()),2&a){const d=r.oxw(),p=r.MAs(1);r.xp6(1),r.ekj("ant-spin-rtl","rtl"===d.dir)("ant-spin-spinning",d.isLoading)("ant-spin-lg","large"===d.nzSize)("ant-spin-sm","small"===d.nzSize)("ant-spin-show-text",d.nzTip),r.xp6(1),r.Q6J("ngTemplateOutlet",d.nzIndicator||p),r.xp6(1),r.Q6J("ngIf",d.nzTip)}}function z(a,m){if(1&a&&(r.TgZ(0,"div",9),r.Hsn(1),r.qZA()),2&a){const d=r.oxw();r.ekj("ant-spin-blur",d.isLoading)}}const Z=["*"],O="spin";let I=(()=>{class a{constructor(d,p,A){this.nzConfigService=d,this.cdr=p,this.directionality=A,this._nzModuleName=O,this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new C.x,this.spinning$=new u.X(this.nzSpinning),this.delay$=new h.t(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,x.O)(this.nzDelay),(0,_.x)(),(0,T.w)(p=>0===p?this.spinning$:this.spinning$.pipe((0,b.D)(A=>(0,M.H)(A?p:0)))),(0,g.R)(this.destroy$)).subscribe(p=>{this.isLoading=p,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent(O).pipe((0,g.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe((0,g.R)(this.destroy$)).subscribe(p=>{this.dir=p,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(d){const{nzSpinning:p,nzDelay:A}=d;p&&this.spinning$.next(this.nzSpinning),A&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return a.\u0275fac=function(d){return new(d||a)(r.Y36(v.jY),r.Y36(r.sBO),r.Y36(w.Is,8))},a.\u0275cmp=r.Xpm({type:a,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(d,p){2&d&&r.ekj("ant-spin-nested-loading",!p.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[r.TTD],ngContentSelectors:Z,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(d,p){1&d&&(r.F$t(),r.YNc(0,D,5,0,"ng-template",null,0,r.W1O),r.YNc(2,S,4,12,"div",1),r.YNc(3,z,2,2,"div",2)),2&d&&(r.xp6(2),r.Q6J("ngIf",p.isLoading),r.xp6(1),r.Q6J("ngIf",!p.nzSimple))},dependencies:[y.O5,y.tP],encapsulation:2}),(0,f.gn)([(0,v.oS)()],a.prototype,"nzIndicator",void 0),(0,f.gn)([(0,t.Rn)()],a.prototype,"nzDelay",void 0),(0,f.gn)([(0,t.yF)()],a.prototype,"nzSimple",void 0),(0,f.gn)([(0,t.yF)()],a.prototype,"nzSpinning",void 0),a})(),N=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=r.oAB({type:a}),a.\u0275inj=r.cJS({imports:[w.vT,y.ez,U.Q8]}),a})()}}]);