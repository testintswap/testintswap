"use strict";(self.webpackChunkintswap_frontend=self.webpackChunkintswap_frontend||[]).push([[5658],{75658:(E,f,i)=>{i.r(f),i.d(f,{NftModule:()=>q});var c=i(88692),p=i(7976),_=i(92673),g=i(61528),m=i(98168),n=i(64537),x=i(96195),h=i(3755),b=i(19376),v=i(65707),s=i(9638),d=i(83114),u=i(83331);function C(e,r){if(1&e&&(n.ynx(0),n.TgZ(1,"h2"),n._uU(2,"Details"),n.qZA(),n._UZ(3,"div",12),n.TgZ(4,"div",13),n._uU(5,"CONTRACT ADDRESS"),n.qZA(),n.TgZ(6,"div",14)(7,"a",15),n._uU(8),n.qZA()(),n.TgZ(9,"div",13),n._uU(10,"TOKEN ID"),n.qZA(),n.TgZ(11,"div",14),n._uU(12),n.qZA(),n.TgZ(13,"div",13),n._uU(14,"ROYALTY"),n.qZA(),n.TgZ(15,"div",14),n._uU(16),n.ALo(17,"number"),n.qZA(),n.TgZ(18,"div",13),n._uU(19,"CREATOR"),n.qZA(),n.TgZ(20,"div",14)(21,"a",15),n._uU(22),n.qZA()(),n.BQk()),2&e){const t=n.oxw().ngIf,o=n.oxw();n.xp6(7),n.Q6J("href",o.chainService.getChainConfig().blockExplorerUrls[0]+"/address/"+o.collectionAddress,n.LSH),n.xp6(1),n.Oqu(o.collectionAddress),n.xp6(4),n.Oqu(o.tokenId),n.xp6(4),n.hij("",n.xi3(17,6,o.royaltyRatio,"1.2-4")," %"),n.xp6(5),n.Q6J("href",o.chainService.getChainConfig().blockExplorerUrls[0]+"/address/"+t.pair.collection.creator,n.LSH),n.xp6(1),n.Oqu(t.pair.collection.creator)}}function O(e,r){1&e&&n._UZ(0,"nz-skeleton",16),2&e&&n.Q6J("nzActive",!0)}const M=function(e,r){return["/","app","pool",e,r]},P=function(e,r){return["/","app","swap",e,r]},Z=function(e){return{prevSelectTokenId:e}};function y(e,r){if(1&e&&(n.ynx(0),n.TgZ(1,"div",17),n._uU(2),n.qZA(),n._UZ(3,"div",12),n.TgZ(4,"div",18),n._uU(5,"Pool: "),n.TgZ(6,"a",19),n._uU(7),n.qZA()(),n.TgZ(8,"div",20),n._uU(9,"Pool Address: "),n.TgZ(10,"a",15),n._uU(11),n.qZA()(),n.TgZ(12,"div",21),n._uU(13,"Price: "),n.TgZ(14,"span"),n._uU(15),n.ALo(16,"number"),n.qZA(),n.TgZ(17,"button",22),n._uU(18,"Buy Now"),n.qZA()(),n.BQk()),2&e){const t=n.oxw().ngIf,o=n.oxw();n.xp6(2),n.Oqu((null==t.nftInfo?null:t.nftInfo.name)||t.pair.collection.name+" #"+o.tokenId),n.xp6(4),n.Q6J("routerLink",n.WLB(13,M,t.pair.collection.address,t.pair.token.address)),n.xp6(1),n.AsE("",t.pair.collection.symbol,"-",t.pair.token.symbol,""),n.xp6(3),n.Q6J("href",o.chainService.getChainConfig().blockExplorerUrls[0]+"/address/"+t.pair.address,n.LSH),n.xp6(1),n.Oqu(t.pair.address),n.xp6(4),n.AsE(" ",n.xi3(16,10,o.formatTokenValue(t.pair.price,t.pair.token.decimals),"1.2-8")," ",t.pair.token.symbol,""),n.xp6(2),n.Q6J("routerLink",n.WLB(16,P,t.pair.collection.address,t.pair.token.address))("queryParams",n.VKq(19,Z,o.tokenId))}}function k(e,r){1&e&&n._UZ(0,"nz-skeleton",16),2&e&&n.Q6J("nzActive",!0)}function A(e,r){if(1&e&&(n.TgZ(0,"div",25)(1,"div",26),n._uU(2),n.qZA(),n._UZ(3,"span",27),n.TgZ(4,"div",28),n._uU(5),n.qZA()()),2&e){const t=r.$implicit;n.xp6(2),n.Oqu(t.trait_type),n.xp6(3),n.Oqu(t.value)}}function I(e,r){1&e&&(n.TgZ(0,"div",29),n._uU(1," No Attributes. "),n.qZA())}const T=function(){return[]};function w(e,r){if(1&e&&(n.ynx(0),n.YNc(1,A,6,2,"div",23),n.YNc(2,I,2,0,"div",24),n.BQk()),2&e){const t=n.oxw().ngIf;n.xp6(1),n.Q6J("ngForOf",(null==t.nftInfo?null:t.nftInfo.attributes)||n.DdM(2,T)),n.xp6(1),n.Q6J("ngIf",!(null!=t.nftInfo&&t.nftInfo.attributes)||0==(null==t.nftInfo||null==t.nftInfo.attributes?null:t.nftInfo.attributes.length))}}function N(e,r){1&e&&n._UZ(0,"nz-skeleton",16),2&e&&n.Q6J("nzActive",!0)}function U(e,r){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"div",1)(2,"div",2)(3,"button",3),n.NdJ("click",function(){n.CHM(t);const l=n.oxw();return n.KtG(l.goBack())}),n.TgZ(4,"mat-icon",4),n._uU(5,"arrow_back"),n.qZA()()(),n.TgZ(6,"div")(7,"div",5),n._UZ(8,"img",6),n.qZA(),n.TgZ(9,"div",7),n.YNc(10,C,23,9,"ng-container",8),n.YNc(11,O,1,1,"ng-template",null,9,n.W1O),n.qZA()(),n.TgZ(13,"div")(14,"div",10),n.YNc(15,y,19,21,"ng-container",8),n.YNc(16,k,1,1,"ng-template",null,9,n.W1O),n.qZA(),n.TgZ(18,"div",11)(19,"h2"),n._uU(20,"Properties"),n.qZA(),n._UZ(21,"div",12),n.YNc(22,w,3,3,"ng-container",8),n.YNc(23,N,1,1,"ng-template",null,9,n.W1O),n.qZA()()(),n.BQk()}if(2&e){const t=r.ngIf,o=n.MAs(12),l=n.oxw();n.xp6(8),n.Q6J("src",l.formatUrl(null==t.nftInfo?null:t.nftInfo.image)||"/assets/imgs/mockNft.png",n.LSH)("alt",null==t.nftInfo?null:t.nftInfo.name),n.xp6(2),n.Q6J("ngIf",t.pair)("ngIfElse",o),n.xp6(5),n.Q6J("ngIf",t.pair)("ngIfElse",o),n.xp6(7),n.Q6J("ngIf",t.pair)("ngIfElse",o)}}const J=function(e,r){return{nftInfo:e,pair:r}},Q=[{path:"",component:(()=>{class e{constructor(t,o,l,z,Y,L){this.location=t,this.route=o,this.web3Service=l,this.httpService=z,this.cacheService=Y,this.chainService=L,this.royaltyRatio=0,this.nftInfo$=this.route.paramMap.pipe((0,g.w)(a=>(this.collectionAddress=a.get("collectionAddress"),this.tokenId=a.get("tokenId"),this.httpService.getNftMetadata(this.collectionAddress,this.tokenId)))),this.pair$=this.route.paramMap.pipe((0,g.w)(a=>{const B=a.get("collectionAddress"),R=a.get("tokenId");return this.cacheService.getPairByTokenId(B,R)}),(0,m.b)(a=>a&&this.fetchRoyalty(a.address)))}ngOnInit(){}fetchRoyalty(t){this.web3Service.invokeContract("IntswapV1Factory","getRoyaltyInfo",[t]).then(o=>this.royaltyRatio=100*o[1]/10**18)}formatTokenValue(t,o){return(0,_.formatUnits)(t,o)}formatUrl(t){if(t)return t.replace("ipfs://","https://ipfs.io/ipfs/")}goBack(){this.location.back()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(c.Ye),n.Y36(p.gz),n.Y36(x.U),n.Y36(h.O),n.Y36(b.Q),n.Y36(v.Z))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-nft"]],decls:3,vars:8,consts:[[4,"ngIf"],[1,"nft-info-wrapper"],[1,"nft-info-header"],["mat-icon-button","","color","primary",3,"click"],["color","primary"],[1,"nft-img"],[3,"src","alt"],[1,"nft-detail"],[4,"ngIf","ngIfElse"],["skeleton",""],[1,"nft-info"],[1,"nft-properties"],[1,"divider"],[1,"detail-label"],[1,"detail-value"],["target","_blank",3,"href"],[3,"nzActive"],[1,"nft-name"],[1,"nft-pool-name"],[3,"routerLink"],[1,"nft-pool-address"],[1,"nft-price"],["mat-flat-button","","color","primary",3,"routerLink","queryParams"],["class","property-card",4,"ngFor","ngForOf"],["style","width:100%;height: 30vh;",4,"ngIf"],[1,"property-card"],[1,"property-name"],[1,"spacer"],[1,"property-value"],[2,"width","100%","height","30vh"]],template:function(t,o){1&t&&(n.YNc(0,U,25,8,"ng-container",0),n.ALo(1,"async"),n.ALo(2,"async")),2&t&&n.Q6J("ngIf",n.WLB(5,J,n.lcZ(1,1,o.nftInfo$),n.lcZ(2,3,o.pair$)))},dependencies:[c.sg,c.O5,p.rH,p.yS,s.lW,d.ng,u.Hw,c.Ov,c.JJ],styles:[".nft-info-wrapper[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:8px;box-shadow:0 2px 4px -1px #0003;background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);max-width:60vw;width:100%;margin:1rem auto;min-height:80vh;padding:12px;display:grid;grid-template-columns:2fr 3fr;column-gap:24px}.nft-info-header[_ngcontent-%COMP%]{grid-column-start:span 2}.nft-info-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid rgb(255,199,228);margin-bottom:12px}.nft-img[_ngcontent-%COMP%]{width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);border-radius:8px}.nft-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:110%;height:110%}.nft-detail[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr 1fr;padding:12px;border-radius:8px;border:1px solid rgb(255,228,242);margin:24px 0 0;background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);row-gap:12px;column-gap:24px}.nft-detail[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .nft-detail[_ngcontent-%COMP%]   nz-skeleton[_ngcontent-%COMP%], .nft-detail[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{grid-column-start:span 2;margin:0}.nft-detail[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{width:100%;overflow:hidden;text-overflow:ellipsis;align-self:end;text-align:end;padding-right:12px}.nft-info[_ngcontent-%COMP%]{padding:12px;width:100%;border-radius:8px;border:1px solid rgb(255,228,242);background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5)}.nft-info[_ngcontent-%COMP%]   .nft-name[_ngcontent-%COMP%]{font-size:36px;font-weight:bolder}.nft-info[_ngcontent-%COMP%]   .nft-pool-name[_ngcontent-%COMP%], .nft-info[_ngcontent-%COMP%]   .nft-pool-address[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin-bottom:12px}.nft-info[_ngcontent-%COMP%]   .nft-pool-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .nft-info[_ngcontent-%COMP%]   .nft-pool-address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:100;margin:0 12px}.nft-info[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.nft-info[_ngcontent-%COMP%]   .nft-price[_ngcontent-%COMP%]{line-height:28px;font-size:18px;font-weight:700;margin-bottom:12px;display:flex;justify-content:flex-start;align-items:flex-end}.nft-info[_ngcontent-%COMP%]   .nft-price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;margin:0 12px;font-weight:bolder}.nft-info[_ngcontent-%COMP%]   .nft-price[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:24px;color:#fff}.nft-properties[_ngcontent-%COMP%]{padding:12px;margin-top:24px;width:100%;border-radius:8px;border:1px solid rgb(255,228,242);background:rgba(35,1,33,.3);border:3px solid rgba(97,84,94,.3098039216);-webkit-backdrop-filter:blur(12px) brightness(1.5);backdrop-filter:blur(12px) brightness(1.5);display:grid;grid-template-columns:1fr 1fr 1fr;column-gap:12px;row-gap:12px}.nft-properties[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .nft-properties[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{grid-column-start:span 3;margin:0}.nft-properties[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]{width:100%;border-radius:8px;background:rgb(255,228,242);padding:12px;display:flex;align-items:center;justify-content:center;flex-direction:column}.nft-properties[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-name[_ngcontent-%COMP%]{font-weight:700}.nft-properties[_ngcontent-%COMP%]   .property-card[_ngcontent-%COMP%]   .property-value[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#5d2e4f}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:6px 0 18px;background:linear-gradient(90deg,#fff 0%,rgb(255,228,242) 10%,rgb(255,228,242) 90%,#fff 100%)}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[p.Bz.forChild(Q),p.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[c.ez,S,s.ot,d.H0,u.Ps]}),e})()}}]);